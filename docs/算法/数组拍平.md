---
title: æ•°ç»„æ‹å¹³
---

### é¢˜ç›®æè¿°ï¼šå®ç°ä¸€ä¸ªæ•°ç»„æ‹å¹³å‡½æ•°ï¼Œä¾‹å¦‚è¾“å…¥ï¼š[1,[2,[3],4],5] è¾“å‡º [1,2,3,4,5]

æ–¹æ³•ä¸€ï¼š åŸºæœ¬æ€è·¯å®¹æ˜“æƒ³åˆ° ğŸ’¡
```javascript
function flatArr(arr) {
    let result = [];
    // å·¥å…·å‡½æ•°
    function toolFn(arr) {
        for (let i = 0; i < arr.length; i++) {
            if (Array.isArray(arr[i])) {
                return toolFn(arr[i])
            } else {
                result.push(arr[i])
            }
        }
    }
    toolFn(arr);
    return result;
}
```

æ–¹æ¡ˆäºŒï¼š è¯»å®Œè¿™é“é¢˜å°±æœ‰ä¸ªå£°éŸ³å‘Šè¯‰ä½ ç”¨ *reduce* æ˜¯ä¸æ˜¯å§ï¼Ÿï¼ğŸ˜ 
```javascript
function flatArr(arr) {
    return arr.reduce((pre, next) => {
        pre.concat(Array.isArray(next) ? flatArr(next) : next)
    }, []) // !!! å…³é”®å°±æ˜¯è¿™é‡Œäº†ï¼Œ reduceçš„ç¬¬äºŒä¸ªå‚æ•°----åˆå§‹å€¼ï¼
}
```
:::tip
é™¤äº†æ¥å—æ•°ç»„ä½œä¸ºå‚æ•°ï¼Œconcatä¹Ÿå¯ä»¥æ¥å—å…¶ä»–ç±»å‹çš„å€¼ä½œä¸ºå‚æ•°ã€‚å®ƒä»¬ä¼šä½œä¸ºæ–°çš„å…ƒç´ ï¼Œæ·»åŠ æ•°ç»„å°¾éƒ¨
`[].concat(1,2,3)`
ç­‰åŒäº
`[].concat(1,[2,3])`
`[].concat([1],[2,3])`
:::

æ–¹æ¡ˆä¸‰ï¼šä½¿ç”¨toStringå’Œsplit  (æ²¡æœ‰åå¹´è„‘è¡€æ “ä½ èƒ½æƒ³åˆ°è¿™éªšæ°”çš„æ–¹æ³•ï¼Ÿï¼ŸğŸ˜¶)

```javascript
function flattenArray(arr) {
return arr.toString().split(',').map(item => +item);
}

// æµ‹è¯•
let inputArray = [1, [2, [3], 4], 5];
let flattenedArray = flattenArray(inputArray);
console.log(flattenedArray);  // è¾“å‡º [1, 2, 3, 4, 5]
```
:::info
æ–¹æ³•çš„å±€é™æ€§åœ¨äºï¼Œå¦‚æœæ•°ç»„ä¸­çš„å…ƒç´ åŒ…å«é€—å·ï¼Œå¯èƒ½ä¼šå¯¼è‡´é”™è¯¯çš„ç»“æœã€‚ä½†æ˜¯æ€è·¯çœŸæ˜¯æ¸…å¥‡~
:::

æ–¹æ¡ˆå››ï¼šä½¿ç”¨æœ€æ–°çš„æ•°ç»„flatæ–¹æ³•

```javascript
function flatArr(arr) {
    // ( ï¹ ï¹ ) ~â†’  Infinity ä¸€æŠŠæ¢­ï¼Œä¸ç®¡ä½ æ˜¯åµŒå¥—å‡ å±‚ï¼Œç›´æ¥ç»™ä½ å¹²å¹³æˆä¸€ç»´çš„
    return arr.flat(Infinity); 
}
    // æˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨flat()é»˜è®¤çš„è¡Œä¸ºä¸€æ¬¡åªè„±æ‰ä¸€å±‚
function flatArr2(arr) {
    return arr.from(arr, item => Array.isArray(item) ? flatArr2(item) : item).flat()
}
```