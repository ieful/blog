---
slug: interview
title: å°è±¡ä¸­çš„ä¸€äº›é¢è¯•é¢˜
---


#### ä¸€é“ä½œç”¨åŸŸå’ŒthisæŒ‡é’ˆçš„é¢˜ç›®ï¼š
```javascript
    // ä¸è¦çœ‹ç­”æ¡ˆï¼Œä½ èƒ½è¯´å‡ºä¸‹é¢ï¼Œä¸‰ä¸ªlogçš„æ‰“å°ç»“æœå—ï¼Ÿ
    window.name = 'window';

    function Person(name) {
        this.name = name;
    }
    
    Person.prototype.print = function() {
        return this.name;
    }
    Person('abc');
    let a = new Person('abc').print.call({});
    console.log(a);
    
    let fn = () => {
        this.name = 'z'
    };
    let b = {name: 'y'};
    fn.call(b);
    console.log(b.name);
    
    let c = new Person('abc').print;
    console.log(c());
```

è§£æï¼š
```javascript
    window.name = 'window'; // å…¨å±€windowå¯¹è±¡å±æ€§nameä¸ºwindow
    
    // æ„é€ å‡½æ•°å®šä¹‰
    function Person(name) {
        this.name = name;
    }
    // æ„é€ å‡½æ•°çš„åŸå‹ä¸Šæœ‰ä¸€ä¸ªprintæ–¹æ³•
    Person.prototype.print = function() {
        return this.name; // æ–¹æ³•ç­¾åæ˜¯è¿”å› this.name
    }
    // å‡½æ•°è°ƒç”¨
    // æ³¨æ„ï¼šå› ä¸ºä¸æ˜¯é€šè¿‡newè°ƒç”¨çš„ï¼Œè€Œæ˜¯å…¨å±€è°ƒç”¨ï¼Œæ‰€ä»¥æ­¤æ—¶Person()è¢«å½“ä½œä¸€ä¸ªæ™®é€šçš„å‡½æ•°
    // è¢«windowè°ƒç”¨ï¼Œæ‰€ä»¥åœ¨Personä¸­ this.name = name çš„thisæŒ‡å‘çš„æ˜¯windowï¼Œå› æ­¤æ‰§è¡Œå®Œæ­¤å‡½æ•°window.name = 'abc'
    Person('abc');
    // newäº†ä¸€ä¸ªPersonçš„å®ä¾‹ï¼Œç„¶åä»¥callçš„å½¢å¼è°ƒç”¨å®ä¾‹åŸå‹å¯¹è±¡ä¸Šçš„printæ–¹æ³•ï¼Œè°ƒç”¨è€…æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œç©ºå¯¹è±¡ä¸Šå¹¶æ²¡æœ‰nameå±æ€§ï¼Œå› æ­¤åº”è¯¥è¿”å›çš„æ˜¯undefined;
    let a = new Person('abc').print.call({});
    console.log(a); // å› æ­¤ç¬¬ä¸€ä¸ªæ‰“å°æ˜¯ undefined
    
    // å®šä¹‰äº†ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œæ³¨æ„ç®­å¤´å‡½æ•°æ˜¯æ²¡æœ‰thisçš„ï¼Œå…¶thisæŒ‡å‘å…¶å¤–éƒ¨çš„ä½œç”¨åŸŸï¼Œåœ¨è¿™é‡Œå°±æ˜¯window;
    let fn = () => {
        this.name = 'z'
    };
    // å®šä¹‰äº†ä¸€ä¸ªå¯¹è±¡b
    let b = {name: 'y'};
    // fnè¢«callå½¢å¼è°ƒç”¨ï¼Œè°ƒç”¨è€…æ˜¯b,å› ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘çš„æ˜¯å¤–éƒ¨ä½œç”¨åŸŸwindow,æ‰€ä»¥æ”¹å˜çš„æ˜¯windowçš„name
    fn.call(b); // æ­¤æ—¶window.nameè¢«æ”¹æˆ z
    console.log(b.name); // b.name æ²¡æœ‰æ”¹å˜å› æ­¤ ç¬¬äºŒä¸ªæ‰“å°æ˜¯ 'y'
    
    let c = new Person('abc').print; // newäº†ä¸€ä¸ªå®ä¾‹ç„¶åå°†å…¶åŸå‹å¯¹è±¡ä¸Šçš„printæ–¹æ³•èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ c
    console.log(c()); // c()çš„è°ƒç”¨æ˜¯åœ¨å…¨å±€è°ƒç”¨çš„ï¼Œå› æ­¤thisæŒ‡å‘çš„æ˜¯windowå› æ­¤æ‰“å°çš„æ˜¯windowçš„name ç¬¬ä¸‰ä¸ªæ‰“å°çš„æ˜¯ 'z'


    // æ‰€ä»¥æœ€ç»ˆçš„æ‰“å°ç»“æœæ˜¯ï¼šundefined 'y' 'z'
```

:::caution
è¿™é‡Œæœ€å®¹æ˜“å‡ºé”™çš„æ˜¯ç¬¬äºŒä¸ªæ‰“å°ç»“æœ
```javascript
    let fn = () => {
        this.name = 'z'
    };
    
    let b = {name: 'y'};
    fn.call(b);
```
åœ¨è¿™é‡Œfnç®­å¤´å‡½æ•°è¢«ä»¥**call**çš„å½¢å¼è°ƒç”¨ï¼Œå¹¶ä¸”å¯¹è±¡bçš„ç¡®æœ‰ä¸€ä¸ªnameå±æ€§ï¼Œå› æ­¤æˆ‘ä»¬ææ˜“è®¤ä¸ºåœ¨æ‰§è¡Œæ—¶thisæŒ‡å‘äº†b,æ¯•ç«Ÿcallå°±æœ‰
 *å€Ÿç”¨* thisæŒ‡å‘æ‰§è¡Œå‡½æ•°çš„ä½œç”¨ï¼Œè€Œä¸”æˆ‘ä»¬ä¹ŸçŸ¥é“åœ¨jsä¸­thisçš„æŒ‡é’ˆæ˜¯åœ¨å®é™…è°ƒç”¨çš„æ—¶å€™æ‰ç¡®å®šçš„ï¼Œä½†æ˜¯ï¼ï¼ï¼äº²çˆ±çš„è¿™ä¸€åˆ‡éƒ½ä¸é€‚ç”¨
äºç®­å¤´å‡½æ•°å‘€ï¼å…«å˜å‘€è·¯ï¼ï¼ åˆ‡è®°ï¼š 

**ç®­å¤´å‡½æ•°ä½“å†…çš„ this å¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰è¯¥ç®­å¤´å‡½æ•°æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸæŒ‡å‘çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å‡½æ•°æ‰§è¡Œæ—¶æ‰€åœ¨ çš„ä½œç”¨åŸŸæŒ‡å‘çš„å¯¹è±¡** 

**ç®­å¤´å‡½æ•°ä½“å†…çš„ this å¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰è¯¥ç®­å¤´å‡½æ•°æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸæŒ‡å‘çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å‡½æ•°æ‰§è¡Œæ—¶æ‰€åœ¨ çš„ä½œç”¨åŸŸæŒ‡å‘çš„å¯¹è±¡** 

**ç®­å¤´å‡½æ•°ä½“å†…çš„ this å¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰è¯¥ç®­å¤´å‡½æ•°æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸæŒ‡å‘çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å‡½æ•°æ‰§è¡Œæ—¶æ‰€åœ¨ çš„ä½œç”¨åŸŸæŒ‡å‘çš„å¯¹è±¡** 

é‡è¦çš„äº‹æƒ…å†™ä¸‰éâ€¼ï¸

æ‰€ä»¥å½“
```js
    let fn = () => {
        this.name = 'z'
    };
```
ç®­å¤´å‡½æ•°è¢«å®šä¹‰çš„æ—¶å€™ï¼Œå…¶å†…éƒ¨çš„ this å°±è¢«ç»‘å®šåˆ°äº†æ­¤æ—¶å…¶æŒ‡å‘çš„å¤–éƒ¨ä½œç”¨åŸŸå¯¹è±¡windowä¸Šäº†ï¼Œæ— è®ºåç»­å…¶è¢«æ€ä¹ˆè°ƒç”¨ï¼Œå…¶å†…éƒ¨çš„thiséƒ½æ˜¯
æŒ‡å‘çš„window.

è¡€çš„æ•™è®­ğŸ©¸ğŸ©¸ğŸ©¸
:::

:::tip
æ¸©æ•…çŸ¥æ–°ï¼šè¦çŸ¥é“jsä¸­åªæœ‰ä¸¤ç§ä½œç”¨åŸŸï¼š1ã€å‡½æ•°ä½œç”¨åŸŸ 2ã€å…¨å±€ä½œç”¨åŸŸ   (å¯æ²¡æœ‰ä»€ä¹ˆå¯¹è±¡ä½œç”¨åŸŸå“¦âŒ) çœ‹ä¸‹é¢çš„é¢˜ï¼š
```js
var name = 'window'; // å…¶å®æ˜¯window.name = 'window'

var A = {
   name: 'A',
   sayHello: function(){
      console.log(this.name)
   }
}

A.sayHello();// è¾“å‡ºA

var B = {
  name: 'B'
}

A.sayHello.call(B);//è¾“å‡ºB

A.sayHello.call();//ä¸ä¼ å‚æ•°æŒ‡å‘å…¨å±€windowå¯¹è±¡ï¼Œè¾“å‡ºwindow.nameä¹Ÿå°±æ˜¯window
```
ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼ŒsayHelloè¿™ä¸ªæ–¹æ³•æ˜¯å®šä¹‰åœ¨Aå¯¹è±¡ä¸­çš„ï¼Œå½“å½“æˆ‘ä»¬ä½¿ç”¨callæ–¹æ³•ï¼ŒæŠŠå…¶æŒ‡å‘Bå¯¹è±¡ï¼Œæœ€åè¾“å‡ºäº†Bï¼›å¯ä»¥å¾—å‡ºï¼ŒsayHelloçš„thisåªè·Ÿä½¿ç”¨æ—¶çš„å¯¹è±¡æœ‰å…³ã€‚
æ”¹é€ ä¸€ä¸‹ï¼š
```js
var name = 'window'; 

var A = {
   name: 'A',
   sayHello: () => {
      console.log(this.name)
   }
}

A.sayHello();// è¿˜æ˜¯ä»¥ä¸ºè¾“å‡ºA ? é”™å•¦ï¼Œå…¶å®è¾“å‡ºçš„æ˜¯window
```
ç›¸ä¿¡åœ¨è¿™é‡Œï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†äººåˆä¼šå‡ºé”™ï¼Œä»¥ä¸ºsayHelloæ˜¯ç»‘å®šåœ¨Aä¸Šçš„ï¼Œä½†å…¶å®å®ƒç»‘å®šåœ¨windowä¸Šçš„ï¼Œé‚£åˆ°åº•æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ

åˆå¿˜äº†ï¼Œä¸Šé¢ğŸ‘†é‡ç‚¹æ ‡æ³¨äº†â€œè¯¥å‡½æ•°æ‰€åœ¨çš„ä½œç”¨åŸŸæŒ‡å‘çš„å¯¹è±¡â€ï¼Œä½œç”¨åŸŸæ˜¯æŒ‡å‡½æ•°å†…éƒ¨ï¼Œè¿™é‡Œçš„ç®­å¤´å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯sayHelloï¼Œ**æ‰€åœ¨çš„ä½œç”¨åŸŸå…¶å®æ˜¯æœ€å¤–å±‚çš„jsç¯å¢ƒï¼Œå› ä¸ºæ²¡æœ‰å…¶ä»–å‡½æ•°åŒ…è£¹**ï¼›ç„¶åæœ€å¤–å±‚çš„jsç¯å¢ƒæŒ‡å‘çš„å¯¹è±¡æ˜¯winodwå¯¹è±¡ï¼Œæ‰€ä»¥è¿™é‡Œçš„thisæŒ‡å‘çš„æ˜¯windowå¯¹è±¡ã€‚
ä»”ç»†ä½“ä¼šé»‘å­—éƒ¨åˆ†ï¼š**ç®­å¤´å‡½æ•°sayHelloæ‰€åœ¨çš„ä½œç”¨åŸŸå…¶å®æ˜¯æœ€å¤–å±‚çš„jsç¯å¢ƒï¼Œå› ä¸ºå®ƒå¤–å±‚å¹¶æ²¡æœ‰è¢«å…¶ä»–å‡½æ•°åŒ…è£¹ï¼ï¼** **ä¸è¦ä»¥ä¸ºç®­å¤´å‡½æ•°sayHelloè¢«å¯¹è±¡AåŒ…è£¹å…¶ä½œç”¨åŸŸå°±æŒ‡å‘Aï¼Œå¯¹è±¡åŒ…è£¹ä¸äº§ç”Ÿä½œç”¨åŸŸï¼Œå‡½æ•°æ‰äº§ç”Ÿï¼ï¼**

é‚£å¦‚ä½•æ”¹é€ æˆæ°¸è¿œç»‘å®šAå‘¢ï¼š
```js
var name = 'window'; 

var A = {
   name: 'A',
   sayHello: function(){
      var s = () => console.log(this.name)
      return s//è¿”å›ç®­å¤´å‡½æ•°s
   }
}

var sayHello = A.sayHello();
sayHello();// è¾“å‡ºA 

var B = {
   name: 'B';
}

sayHello.call(B); //è¿˜æ˜¯A
sayHello.call(); //è¿˜æ˜¯A
```
ä½ å­¦åºŸäº†å—ï¼ŸğŸ¤¦â€â™‚ï¸
:::